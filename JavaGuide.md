## 什么是字节码？

在java中，JVM可以理解的代码就叫做字节码（即扩展名为`.class`的文件），他不面向任何特定的处理器，只面向虚拟机。java语言通过字节码的方式，在一定程度上解决了传统解释型语言执行效率低的问题。

`JIT(Just-in-time) compilation`，运行时编译，当`JIT`编译器完成第一次编译后，其会将字节码对应的机器码保存下来，下次可以直接使用。这也是我们为什么常说java是编译与解释共存的语言。

## 为什么说 Java 语言“编译与解释并存”？

这是因为 Java 语言既具有编译型语言的特征，也具有解释型语言的特征。因为 Java 程序要经过先编译，后解释两个步骤，由 Java 编写的程序需要先经过编译步骤，生成字节码（`.class` 文件），这种字节码必须由 Java 解释器来解释执行。

## Java 和 C++ 的区别?

我知道很多人没学过 C++，但是面试官就是没事喜欢拿咱们 Java 和 C++ 比呀！没办法！！！就算没学过 C++，也要记下来。

虽然，Java 和 C++ 都是面向对象的语言，都支持封装、继承和多态，但是，它们还是有挺多不相同的地方：

- Java 不提供指针来直接访问内存，程序内存更加安全
- Java 的类是单继承的，C++ 支持多重继承；虽然 Java 的类不可以多继承，但是接口可以多继承。
- Java 有自动内存管理垃圾回收机制(GC)，不需要程序员手动释放无用内存。
- C ++同时支持方法重载和操作符重载，但是 Java 只支持方法重载（操作符重载增加了复杂性，这与 Java 最初的设计思想不符）。
- ......

## 关键字default

`default` 这个关键字很特殊，既属于程序控制，也属于类，方法和变量修饰符，还属于访问控制。

- 在程序控制中，当在 `switch` 中匹配不到任何情况时，可以使用 `default` 来编写默认匹配的情况。
- 在类，方法和变量修饰符中，从 `JDK8` 开始引入了默认方法，可以使用 `default` 关键字来定义一个方法的默认实现。
- 在访问控制中，如果一个方法前没有任何修饰符，则默认会有一个修饰符 `default`，但是这个修饰符加上了就会报错。

## 移位操作符

移位操作符实际上支持的类型只有int和long，编译器在对short、byte、char类型进行移位前，都会将其转换为int类型再操作。

## 如果移位的位数超过数值所占有的位数会怎样？

当 int 类型左移/右移位数大于等于 32 位操作时，会先求余（%）后再进行左移/右移操作。也就是说左移/右移 32 位相当于不进行移位操作（32%32=0），左移/右移 42 位相当于左移/右移 10 位（42%32=10）。当 long 类型进行左移/右移操作时，由于 long 对应的二进制是 64 位，因此求余操作的基数也变成了 64。

也就是说：`x<<42`等同于`x<<10`，`x>>42`等同于`x>>10`，`x >>>42`等同于`x >>> 10`

## 基本类型VS包装类型

**用途**：除了定义一些常量和局部变量之外，我们在其他地方，比如方法参数、对象属性中很少会使用基本数据类型来定义变量。并且，包装类型可用于泛型，而基本类型不行。

**存储方式**：基本数据类型的局部变量存放在Java虚拟机栈中的局部变量表中，基本数据类型的成员变量（未被`static`修饰）存放在Java虚拟机的堆中。包装类型属于对象类型，我们知道几乎所有对象实例都存在于堆中。

**占用空间**：相比于包装类型（对象类型），基本数据类型占用的空间往往非常小

**默认值**：成语变量包装类型不赋值就是null，而基本类型有默认值且不是null

**比较方式**：

- 对于基本数据类型来说，`==`比较的是值
- 对于包装数据类型来说，`==`比较的是对象的内存地址，所有整型包装类对象之间值的比较，全部使用equals()方法

### 注意

基本数据类型

- 作为局部变量时存放在栈区
- 作为成员变量时存放在堆区

## 包装类型的缓存机制

java包装类的缓存机制，是在`java5`中引入的一个有助于节省内存、提高性能的功能。java基本类型的包装类大部分都提供了对象的缓存，实现方式是在类初始化时提前创建好会频繁使用的包装 类对象，当需要使用某个包装类的对象时，如果该对象包装的值在缓存的范围内，就返回缓存的对象，否则就创建新的对象并返回。

只有在自动装箱时有效，使用构造函数创建对象不适用

~~~java
		Integer i1 = 1;
		Integer i2 = new Integer(1);//会创建新的对象，不适用
		System.out.println(i1 == i2);//false
~~~

`Byte`,`Short`,`Integer`,`Long` 这 4 种包装类默认创建了数值 **[-128，127]** 的相应类型的缓存数据，`Character` 创建了数值在 **[0,127]** 范围的缓存数据，`Boolean` 直接返回 `True` or `False`。

两种浮点数类型的包装类 `Float`,`Double` 并没有实现缓存机制。

## 自动装箱

**自动装箱** 是 Java 编译器在基础类型和相应的对象封装类之间进行的自动转换。 例如，将 int 转换为 Integer，double 转换为 Double 等等。

这是自动装箱最简单的例子： `Character ch = 'a';`