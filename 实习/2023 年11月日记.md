### 报告要求：

大家好！为了更好地提升各位在实习期间的学习和成长，公司决定每月进行一次月度汇报。

【汇报内容】包含但不限于：
a）自我介绍
b）实习内容：个人在这段实习期间所从事的实习项目、任务和成果；
c）实习成长：个人在这段实习期间的成长与收获；
d）可以分享给其他人的点：分享一些在工作中遇到的有趣或者有价值的经验，可以是新技能、解决问题的方法或其他有益于团队的信息。

【汇报时间和形式】
a）后续每月月底或次月月初安排，10月汇报时间初步为10月31日下午
b）每人30分钟PPT汇报；

希望各位实习生能够通过月度汇报展现个人的工作能力和成果。这也是你们提升自身竞争力的良机，同时也为我们提供了更好的了解和支持你们的机会。
如有任何疑问或需要进一步的帮助，请随时与本部门HRBP联系。谢谢大家的合作！

祝愿大家在实习期间取得丰硕的成果！

11-1

这一天一直在找调查委托意见书的获取方式，碌碌无为的一天，就算是熟悉代码吧

11-2

调查委托意见书，从本地ftp上下载下来上传到别人的ftp服务器，未完成，

遇到问题：

为什么有些mapper类不需要@Resource注入，有些却需要？

详见类CcBookDcpgyjsServiceImpl中的

因为使用了构造方法进行自动注入

学习assertEquals()

在Java中，你可以使用JUnit测试框架的`assertEquals`方法来断言（assert）两个值是否相等。在你的代码中，你想要断言`students.size()`的值是否等于5。如果`students.size()`的返回值不等于5，`assertEquals`方法将引发断言失败的异常，这表明测试失败了。

学习了students.forEach(System.out::println);

这行代码使用了Java 8引入的Lambda表达式和方法引用来遍历名为`students`的集合，并使用`System.out::println`方法引用来打印集合中的每个元素。这是一种简洁的方式来遍历并输出集合中的元素。

这行代码的含义是：对于`students`中的每个元素，使用`System.out::println`方法引用来打印该元素的值到控制台。

这种写法等同于使用传统的`for`循环遍历集合并逐个打印元素，但使用Lambda表达式和方法引用可以让代码更加简洁和可读。在Java 8及以后的版本中，这种写法变得很常见，特别是在处理集合和流操作时。

11-3：

遇到的问题：

不同数据库进行字段拼接的方式不同

~~~sql
select (b.year+'-'+b.month) as riqi from book b;-- 这种方式在达梦数据库中就是错的，hui
-- 要改成
select (b.year||'-'||b.month) as riqi from book b;

~~~

11-6：

完成评估意见书的获取，xml文件的生成，压缩加密上传

学会了使用yml配置文件和@Value注解来自动注入常量的值。

11-7：

熟悉代码：监狱相关的调查委托和入矫的业务逻辑

11-8：

完成receiveFeedBack接口的开发，主要功能：将请求中的json数据入库，

下午接着熟悉监狱业务逻辑

学习了idea中run和debug的区别

11-9：

上午无所事事，开始学习通信原理

下午开始监狱委托调查的开发

学习了快速将json对象转map的方法

~~~java
public static void main(String[] args){
    JSONObject item = 省略;//获取一个json对象
    Map<String,Object> map = new HashMap<>(100);
    for(String s : item.keySet()){  //获取json对象中每一个键
        map.put(s,item.getString(s));
    }
    
}

~~~

11-10

添加调用政法平台send接口的操作，分别是收到文件时，退回重报时，和生成意见书时，

添加调查评估意见书配套的xml文件

11-13

上午，完成调查评估意见书配套的xml文件的生成功能

下午，回忆回忆监狱相关代码

遇到的问题，在拼xml文件时，doc.createTextNode()里面不能传null，必须要进行null判断，如果是null改成空字符串

11-14

上午：修改送达回证，这次点击接收受理之后不需要发送送达回证的文书了

发现问题：生成文件夹的时候，文件夹的命名不能夹带空格，这是使用LocalDateUtils.get...方法会出现的问题

学习了：将null全部替换为空字符串的方法

~~~java
    public static <T> T convertNullToEmpty(T obj) {
        if (obj == null) {
            return null;
        }

        Class<?> clazz = obj.getClass();
        Field[] fields = clazz.getDeclaredFields();

        for (Field field : fields) {
            field.setAccessible(true);
            try {
                Object value = field.get(obj);

                if (value == null) {
                    // 如果值为null，将其设为""
                    if (field.getType().equals(String.class)) {
                        field.set(obj, "");
                    } else if (field.getType().equals(Date.class)) {
                        field.set(obj, new Date());
                    } else {
                        // 如果是其他类型，可以根据需要进行处理，这里统一设为null
                        field.set(obj, "");
                    }
                }
            } catch (IllegalAccessException e) {
                e.printStackTrace();
            }
        }

        return obj;
    }
~~~

11-15：

监狱 甲方调用我们的接口的开发，

发现问题：

LocalDateTime类型的字段无法在java代码中赋值，只能在sql语句中用sysdate()来传值，

11-16

继续开发监狱的接口

发现问题：

从ftp服务器上下载带有中文字符的文件时，会出现各种错误，如：无法下载、下载完成后文件损坏。。。

解决方法：

~~~java
                remotePath = new String(remotePath.getBytes(StandardCharsets.UTF_8), StandardCharsets.ISO_8859_1);
// 对ftp的路径进行转码
~~~

全部代码：

~~~java
package com.skytech.test4;

import org.apache.commons.net.ftp.FTP;
import org.apache.commons.net.ftp.FTPClient;

import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStream;
import java.nio.charset.StandardCharsets;

public class FTPDownloadExample {

    public static void main(String[] args) {
        String server = "ftp.example.com";
        int port = 21;
        String user = "your_username";
        String pass = "your_password";
        String remotePath = "/jyfs/你好世界.pdf";
        String localDir = "D:/test/";

        downloadChineseNamedFileFromFTP(server, port, user, pass, remotePath, localDir);

    }


    public static void downloadChineseNamedFileFromFTP(String hostname, Integer port,
                                                       String username, String password,
                                                       String remotePath, String localDir) {
        //如果本地路径不存在，先创建

        FTPClient ftpClient = new FTPClient();

        try {
            ftpClient.connect(hostname, port);
            ftpClient.login(username, password);
            ftpClient.enterLocalPassiveMode();
            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);

            String fileName = remotePath.substring(remotePath.lastIndexOf("/") + 1);
            String localFilePath = localDir + fileName;

            try (OutputStream o = new FileOutputStream(localFilePath)) {
                //重点来了 要对传进来的路径进行转码
                remotePath = new String(remotePath.getBytes(StandardCharsets.UTF_8), StandardCharsets.ISO_8859_1);
                boolean success = ftpClient.retrieveFile(remotePath, o);
                if (success) {
                    System.out.println("文件成功下载到：" + localFilePath);
                } else {
                    System.out.println("文件下载失败");
                }
            }

        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            try {
                if (ftpClient.isConnected()) {
                    ftpClient.logout();
                    ftpClient.disconnect();
                }
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }
}

~~~

11-17：

完成监狱接口的开发

11-20：

增加监狱接口日志打印

学习了mtbatisplus项目的部署启动

学习了单元测试



宜兴市智慧法制公共服务平台

熟悉代码
