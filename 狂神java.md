博客园狂神java学习记录

--------

JDK: Java Development Kit  Java开发工具

JRE: Java Runtime Environment  Java运行环境

JVM: Java Virtual Machine Java虚拟机

DOS: Disk Operating System  磁盘操作系统

## 强类型语言和弱类型语言

强类型语言：所有变量都必须先定义后才能使用。一旦一个变量被指定了某种数据类型，如果不经过强制类型转换，那么它就永远是这个数据类型。例如：你不能把一个整型变量当作一个字符串来处理。

主要语言：Java，C#，Python，Object-C、Ruby

弱类型语言：数据类型可以被忽略，一个变量可以赋不同数据类型的值。一旦给一个整型变量a赋一个字符串值，那么a就变成了字符串类型。

## 动态语言和静态语言

动态语言：在运行时可以改变其结构的语言，例如：新的函数、对象甚至代码可以被引进，已有的函数可以被删除或是其他结构上的变化。

静态语言：运行时结构不可变的语言：java、C、C++

## 注释

1、单行注释  //
2、多行注释  /*  */
3、文档注释 /**  */

文档注释和多行注释的区别：
文档注释可以在dos界面使用javadoc命令提取文档注释内同生成html文档

## 标识符

Java所有的组成部分都需要名字。类名，变量名，方法名都叫做java的标识符

- 所有的标识符都应该以java字母（包括中文字）、美元符$ 或 下划线_ 开始
- 首字符之后可以是java字母，美元符$ 、下划线_ 或数字的任何字符组合
- 关键字不能作为标识符
- 标识符大小写敏感
- 合法标识符举例：age、$salary、_value、__1_value，你好
- 非法标识符举例：123abc、-salary 、#abc
- 可以使用中文命名，但不建议使用

## 数据类型

### 基本类型

八种

byte
8位、有符号的，以二进制补码表示的整数。
-128~127
默认值是0 
byte类型用在大型数组中节约空间，主要代替整数，因为byte变量占用空间只有int类型的四分之一。
例子：byte a = 100, byte b = -50

short
16位、有符号的二进制补码表示的整数
-32768~32767 万级
short数据类型也可以像byte那样节省空间，一个short变量是int型变量所占空间的二分之一
默认值是0

int
32位、有符号的二进制补码表示的整数
-2^31 ~ 2^31-1   十亿级
一般的整型变量默认为int类型
默认值0

long
64位，有符号的二进制补码表示的整肃
-2^63~2^63-1
主要使用在需要比较大整数的系统上
默认值是  0L
![long类型测试](https://res.cloudinary.com/dvqgs9esp/image/upload/v1688384024/javaStudy/long_qwhsxv.png)

float 
是单精度、32位，符合IEEE 754标准的浮点数
float在储存大型浮点数组的时候可节省内存空间
默认值是 0.0f
浮点数不能用来表示精确的值，如货币。
例子：`float f1 = 234.5f`
后面要加f，因为java中浮点数的默认数据类型是double，当我们将一个浮点数赋值给任何类型变量时，这个浮点数默认是double类型
如果我们将整数赋值给float，因为float的取值范围大于int，会自动进行转换
如果我们将浮点数赋值给float，因为float的取值范围小于double，此时需要在后面加上F进行强转。

double
双精度、64位，符合IEEE 754标准的浮点数
浮点数的默认类型为double类型
double类型同样不能表示精确的值，如货币。
默认值是 0.0d 可省略
例子：`double d1  = 123.4`

boolean
虽然只表示一位的信息，但是计算机最小分配一个字节（8位）
如果boolean是单独使用：boolean占4个字节
如果boolean是以boolean数组的形式使用，boolean占1个字节
只有两个取值：true和false

char
是单一的16位Unicode字符
最小值是\u0000 (即为0)
最大值是\uffff  (即为65535)
char数据类型可以储存任何字符
例如：`char letter = 'A'`

### 数据类型面试题

```java
    int bin_num = 0b10; // 二进制0b开头
    int oct_num = 010; //八进制 0 开头
    int dec_num = 10;
    int hex_num = 0x10;  //16进制0x开头
    //默认输出10进制
    System.out.println(bin_num);//2
    System.out.println(oct_num);//8
    System.out.println(dec_num);//10
    System.out.println(hex_num);//16
```

#### 浮点数精度会有丢失

所以银行业务不用float，用BigDecimal
最好完全避免使用浮点数进行比较

```java
    float num1 = 4.0f;
    float num2 = 3.6f;
    System.out.println(num1 - num2);//0.4000001
```

如何解释出现4.0-3.6 =  0.4000001
答：二进制小数无法精确的表示10进制小数，计算机在计算4.0-3.6时，先将两数转成2进制形式，用二进制计算后再将结果转成十进制，这期间出现了误差。

#### 字符串扩展

```java
    char ch = 'A';
    System.out.println(ch);//A
    System.out.println((int)ch);//65
    System.out.println('\u0041');//A
    // 底层原理 是 '\u0041'  十进制的65 -> 十六进制41
    //所有字符本质还是数字
```

#### 什么是字节

- 位（bit）：是计算机内部数据储存的最小单位，1100 1100 是一个八位二进制数
- 字节（byte）：是计算机中数据处理的基本单位，习惯上用大写B来表示
- 1B(byte,字节) = 8 bit（位）
- 字符：是指计算机中使用的字母、数字、字和符号

### 引用类型(reference type)

除了八大基本数据类型之外其他都是引用类型

如 类，接口，数组等

- 在Java中，引用类型的变量非常类似于C/C++的指针，引用类型指向一个对象，指向对象的变量是引用变量。
  这些变量在声明时被指定为一个特定的类型，变量一旦声明后，类型就不能被改变了。
- 对象，数组都是引用数据类型
- 所有引用类型的默认值都是null
- 一个引用变量可以用来引用任何与之兼容的类型

### 浮点储存模型

二进制的科学计数法来保存浮点数

例如：5.5，其二进制数为101.1，则用二进制的科学计数法可以表示为1.011*2^2,这样的小数点的位置就是固定的。

任何一个浮点数可以表示为下面的形式（国际标准IEEE 754）

```
(-1)^ S * M * 2 ^ E
(-1)^ S表示符号位，当S=0时，为正；当S=1时，为负
M表示有效数字，M>=1且M<2
2 ^ E表示指数位
```

上面的例子中，S=0，M=1.011，E=2。
所以当存储浮点数时，只需要将上述三个数字保存起来，就可以了。
单精度浮点数存储模型：S占一位，E占8位，M占23位

### 类型转换

整型、实型（常量）、字符型数据可以混合运算，运算中，不同类型的数据先转化为同一类型，然后进行运算。

转换从低级到高级

低---------------------------------------------------------------------> 高

byte,short,char ->int->long ->float -> double

数据类型转换必须满足如下规则：

- 不能对boolean类型进行类型转换。

- 不能把对象类型转换成不相关类的对象。

- 在把容量大的类型转换为容量小的类型时必须使用强制类型转换。

- 转换过程可能导致溢出或损失精度，例如：

  ```java
          int i = 128;
          byte b = (byte)i;
          System.out.println(b);//-128
  ```

  因为byte类型是8位，最大值为127，所以当int强制转换为byte类型时就会导致溢出

- 浮点数到整数的转换是通过舍弃小数得到，而不是四舍五入，例如：

  ```java
          System.out.println((int)23.6);//23
  ```

  
### 自动类型转换（低到高）

  必须满足转换前的数据类型的位数要低于转换后的数据类型，例如：

  short数据类型的位数为16位，就可以自动转换位数为32的int类型

### 强制类型转换（高到低）

条件是转换的数据类型必须是兼容的

### 隐含强制类型转换

整数的默认类型是int

浮点型不存在这种情况，因为在定义float类型时必须在数字后面跟上F或f

```java
        int i = 128;
        byte b = (byte)i;//高->低 强制类型转换
        double d = i;//低->高 自动类型转换
        System.out.println(b);//-128  溢出了
        System.out.println(d);//128.0
        System.out.println('a');//a
        System.out.println('a' + 1);//98
        System.out.println("---------------------------------------");
        //jdk7 特性
        int num =  10_0000_0000;
        System.out.println(num);//1000000000
        System.out.println(num*20);//-1474836480  // int 的范围21亿多，现在结果200亿溢出
        System.out.println((long)num*20);//20000000000  //先转换再计算
        System.out.println((long)(num*20));//-1474836480  //先计算再转换
```

## 变量、常量

在java中所有变量在使用前必须声明。声明的基本格式如下：

`type varName[ = value][,varName[ = value]...]`刁公式根本不是人看的简而言之：
类型 变量名 = 初值，变量名2 = 初值...

   作用域：

- 类变量：独立于方法之外的变量，用static修饰
- 实例变量：独立于方法之外的变量，不过没有static修饰
- 局部变量：类的方法中的变量

```java
public class Hello {

    static int allClicks = 0;//类变量
    String str = "hello world";//实例变量

    public void method() {
        int i = 0;//局部变量
    }
}
```

### 类变量（静态变量）

- 在类中以static关键字声明，但必须在方法之外
- 无论一个类创建了多少个对象，类只拥有类变量的一分拷贝。
- 静态变量除了被声明为常量外很少使用。
- 静态变量在类加载时被初始化，并在整个应用程序的执行过程中持续存在，直到应用程序结束或类被卸载。
- 静态变量可以通过：`类名.变量名` 的方式访问
- 类变量被声明为public static final 类型时，类变量名称一般建议使用大写字母。如果静态变量不是public 和 final类型，其命名方式与实例变量以及局部变量的命名方式一致。

### 实例变量

- 声明在一个类中，但在方法、构造方法和语句块之外。
- 当一个对象被实例化之后，每个实例变量的值就跟着确定。
- 

