# 2023年8月4日

## servlet登录

~~~java
//src\main\java\com.iweb.test\Login
public class Login implements Servlet {

    ServletContext sc;

    @Override
    public void init(ServletConfig servletConfig) throws ServletException {
        sc = servletConfig.getServletContext();
    }

    @Override
    public ServletConfig getServletConfig() {
        return null;
    }

    @Override
    public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException {

        String username = sc.getInitParameter("username");
        String password = sc.getInitParameter("password");
        //页面上填写的账号密码
        String usernameParam = servletRequest.getParameter("username");
        String passwordParam = servletRequest.getParameter("password");

        PrintWriter pw = servletResponse.getWriter();
        if (username.equals(username) && password.equals(passwordParam)) {
            pw.print("hello " + usernameParam);
        } else {
            pw.print("sorry " + usernameParam);
        }

    }

    @Override
    public String getServletInfo() {
        return null;
    }

    @Override
    public void destroy() {

    }
}

~~~

~~~xml
<!-- web\WEB-INF\web.xml   -->
    <context-param>
        <param-name>username</param-name>
        <param-value>admin</param-value>
    </context-param>


    <context-param>
        <param-name>password</param-name>
        <param-value>123456</param-value>
    </context-param>


    <servlet>
        <servlet-name>login</servlet-name>
        <servlet-class>com.iweb.test.Login</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>login</servlet-name>
        <url-pattern>/login</url-pattern>
    </servlet-mapping>
~~~

~~~html
<!-- web\login.html   -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户登录</title>
</head>
<body>
<h3>用户登录</h3>
<form action="login" method="post">
    账号：<input type="text" name="username"/>
    <br/><br/>
    密码：<input type="password" name="password"/>
    <br/><br/>
    <input type="submit" value="登录"/>
</form>
</body>
</html>
~~~

## HttpServletRequest

它是ServletRequest的子接口，它拥有了ServletRequest中所有的方法，我们浏览器发起的请求实际上全都是HttpServletRequest类型

常用方法：

getServletContext() ---- 获取当前ServletContext对象

```java
@Override
public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException {
    System.out.println("来了一个请求");
    System.out.println(servletRequest instanceof HttpServletRequest);
    HttpServletRequest request = (HttpServletRequest) servletRequest;
    ServletContext sc = request.getServletContext();
    System.out.println(sc.getInitParameter("username"));
}
```

getRequestURI() ---- 获取当前请求URL中的URI部分（URI =URL - web站点根目录）

getMethod() ---- 获取当前请求的请求方式

getServletPath() ----  获取当前请求名

getContextPath() ---- 获取当前web应用根目录

~~~java
   @Override
    public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException {
        System.out.println("来了一个请求");
        System.out.println(servletRequest instanceof HttpServletRequest);
        HttpServletRequest request = (HttpServletRequest) servletRequest;
        ServletContext sc = request.getServletContext();
        System.out.println(sc.getInitParameter("username"));
        String uri = request.getRequestURI();
        String method = request.getMethod();
        System.out.println(method);
        String urlpattern = request.getServletPath();
        System.out.println(urlpattern);
        String contextPath = request.getContextPath();
        System.out.println(contextPath);
    }
~~~

## HttpServlet

这是一个抽象类，它实现了Servlet接口，它重写了接口中生命周期相关的方法，它将ServletRequest和ServletResponse向下转型成了HttpServletRequest和HttpServletResponse然后它调用了getMethod()判断当前请求的请求方式，并提供了doGet和doPost供我们重写

在实际开发中，我们无序实现Servlet接口，只需要继承HttpServlet，并重写doGet或者doPost方法即可，可以专注于业务逻辑的开发。

## Git

git config -l ---- 查看git配置信息

git config --global user.name "xxx" ---- 配置自己的姓名

git config --global user.email "xxx@xxx.xxx" ---- 配置自己的邮箱地址

工作目录 ---- 自己写代码的文件夹

暂存区 ---- 保存代码的临时修改

本地资源仓库 ---- 存放本地待提交的数据

远程仓库 ---- 用来保存数据共享和交换的真实仓库

git add ---- 将工作目录提交到暂存区

git commit ---- 将暂存区的数据提交到本地仓库

git push ---- 将本地仓库的数据提交到远程仓库

git pull ---- 从远程仓库下载代码到本地工作目录

git init ---- 初始化一个git工作目录

git status ---- 查看git文件夹中的状态

`git add . `---- 将git文件夹中所有新文件添加到暂存区

`git commit -m "消息内容"` ---- 将暂存区的数据提交到本地仓库

test cmd

### 小组合作使用git远程仓库步骤

组长操作：

1. 新建一个SpringBoot项目
2. 新建一个gitee仓库
3. 本地新建一个git文件夹
   在一个空文件夹中，使用git命令行窗口输入git init
4. 将gitee仓库克隆到该文件夹：
   使用git clone地址
5. 将clone好的仓库文件夹中的.git和.gitignore拷贝到SpringBoot项目文件夹中
6. 在idea工具中上传该项目到gitee远程仓库

组员操作：

1. 打开idea工具，File ---- New ---- Project from version Controller...
   git的url填写当前gitee仓库的url
   点击“clone”
2. 安排一位同学上传配置文件：pom.xml  application.properties等，其他同学右键点击项目 ---- git ---- pull这些配置文件
3. 所有人将自己模块的包，类。接口...从自己的项目中复制到现在下载的git项目中，然后测试功能，不报错的情况下，上传到远程仓库
4. 对于公共文件，先pull，再知会组内其他成员，然后修改后上传

### 小组合作使用git远程仓库步骤（HBuild工具）

在Hbuild工具中，右键项目名 ---- git ---- 添加

添加完之后点击 Commit 提交，之后点击push，刷新仓库页面

**注意**：添加的时



其他组员clone该项目到HBuilder

完成之后各自启动测试，测试完成之后各自添加自己的文件，各自add、commit 和 push

对于公共文件，先pull，再知会组内其他成员，然后修改后上传
